# Test workflow with sequential container execution
workflowId: test-container-sequential
workflowName: Test Container with Sequential Children
description: Tests container node with sequential child execution and child connections

nodes:
  - nodeId: start
    nodeName: Start Node
    runtimeType: CSharpTask
    configuration:
      script: "SetOutput(\"started\", true);"

  - nodeId: sequential-container
    nodeName: Sequential Container
    runtimeType: Container
    ExecutionMode: "Sequential"
    ChildNodes:
      - nodeId: step1
        nodeName: Step 1
        runtimeType: CSharpTask
        configuration:
          script: "SetOutput(\"step\", 1);"

      - nodeId: step2
        nodeName: Step 2
        runtimeType: CSharpTask
        configuration:
          script: "SetOutput(\"step\", 2);"

      - nodeId: step3
        nodeName: Step 3
        runtimeType: CSharpTask
        configuration:
          script: "SetOutput(\"step\", 3);"

    ChildConnections:
      - sourceNodeId: step1
        targetNodeId: step2
        triggerMessageType: Complete
        isEnabled: true

      - sourceNodeId: step2
        targetNodeId: step3
        triggerMessageType: Complete
        isEnabled: true

  - nodeId: finish
    nodeName: Finish Node
    runtimeType: CSharpTask
    configuration:
      script: "SetOutput(\"finished\", true);"

connections:
  - sourceNodeId: start
    targetNodeId: sequential-container
    triggerMessageType: Complete
    isEnabled: true

  - sourceNodeId: sequential-container
    targetNodeId: finish
    triggerMessageType: Complete
    isEnabled: true
