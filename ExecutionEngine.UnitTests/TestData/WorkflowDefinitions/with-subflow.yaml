# Test workflow with subflow nodes
workflowId: test-with-subflow
workflowName: Test Workflow with Subflow Nodes
description: Tests workflow with subflow node references

nodes:
  - nodeId: start
    nodeName: Start Node
    runtimeType: CSharpTask
    configuration:
      script: "SetOutput(\"started\", true);"

  - nodeId: subflow1
    nodeName: First Subflow
    runtimeType: Subflow
    configuration:
      WorkflowFilePath: "./subworkflow1.yaml"
      InputMappings:
        inputParam: "value1"
      OutputMappings:
        result: "subflow1Result"

  - nodeId: subflow2
    nodeName: Second Subflow
    runtimeType: Subflow
    configuration:
      WorkflowFilePath: "./subworkflow2.yaml"
      InputMappings:
        inputParam: "value2"
      OutputMappings:
        result: "subflow2Result"

  - nodeId: finish
    nodeName: Finish Node
    runtimeType: CSharpTask
    configuration:
      script: "SetOutput(\"finished\", true);"

connections:
  - sourceNodeId: start
    targetNodeId: subflow1
    triggerMessageType: Complete
    isEnabled: true

  - sourceNodeId: subflow1
    targetNodeId: subflow2
    triggerMessageType: Complete
    isEnabled: true

  - sourceNodeId: subflow2
    targetNodeId: finish
    triggerMessageType: Complete
    isEnabled: true
